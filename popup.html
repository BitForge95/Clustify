<!DOCTYPE html>
<html>
<head>
  <title>MailPilot Cleanup</title>
  <link rel="stylesheet" href="style.css" />
  <!-- Optional: point to your AI backend for keyword suggestions -->
  <!-- <script>window.AI_BACKEND_URL = "https://your-backend.example.com/keywords";</script> -->
</head>
<body>
  <div class="container">
    <h2>MailPilot</h2>
    <button id="authBtn">Connect Gmail</button>
    <button id="logoutBtn">Log Out</button>


    <!-- Custom Keyword Delete/Count -->
    <div class="custom-keyword-section">
      <h3>Custom Keyword Search</h3>
      <input type="text" id="keywordInput" placeholder="Enter keyword (e.g., 'unsubscribe')">
      <div>
        <input type="checkbox" id="subjectOnlyCheckbox">
        <label for="subjectOnlyCheckbox">Search in subject only</label>
      </div>
      <div class="button-group">
        <button id="countKeywordBtn" disabled class="count-btn">Count by Keyword</button>
        <button id="deleteKeywordBtn" disabled>Delete by Keyword</button>
      </div>
    </div>

    <!-- ===== AI Auto-Label Section (NEW) ===== -->
    <div class="labeler-section">
      <h3>AI Auto-Label</h3>
      <input type="text" id="labelNameInput" placeholder="Enter label (e.g., 'Travel Receipts')" />
      <div class="button-group">
        <button id="generateKeywordsBtn" disabled class="count-btn">Suggest Keywords</button>
        <button id="applyAutoLabelBtn" disabled>Preview & Apply Label</button>
      </div>
      <textarea id="generatedKeywords" rows="3" placeholder="Keywords will appear hereâ€¦" readonly></textarea>
    </div>

    <p id="status"></p>

    <!-- Preview Modal -->
    <div id="previewModal" style="display:none;">
      <div id="previewContent">
        <h3>Email Subjects to Delete / Label</h3>
        <ul id="previewList"></ul>
        <button id="previewDeleteBtn">Delete</button>
        <button id="previewCancelBtn">Cancel</button>
      </div>
    </div>

  </div>
  <script src="popup.js"></script>
</body>
</html>